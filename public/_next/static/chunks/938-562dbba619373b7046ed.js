"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{7922:function(e,r,n){n.d(r,{E:function(){return u}});var a=n(63),t=n(4915),s=n(5284),c=n(3105),i=n(4461),l=n(3808),o=n(7294);function d(){return(d=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var u=(0,a.G)(((e,r)=>{var n=(0,t.m)("Code",e),a=function(e,r){if(null==e)return{};var n,a,t={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],r.indexOf(n)>=0||(t[n]=e[n]);return t}((0,s.Lr)(e),["className"]);return o.createElement(c.m$.code,d({ref:r,className:(0,i.cx)("chakra-code",e.className)},a,{__css:d({display:"inline-block"},n)}))}));l.Ts&&(u.displayName="Code")},3346:function(e,r,n){n.d(r,{iA:function(){return h},hr:function(){return f},p3:function(){return x},Th:function(){return v},Tr:function(){return j},Td:function(){return b}});var a=n(63),t=n(4915),s=n(5284),c=n(9676),i=n(3105),l=n(4461),o=n(3808),d=n(7294);function u(){return(u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e,r){if(null==e)return{};var n,a,t={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],r.indexOf(n)>=0||(t[n]=e[n]);return t}var h=(0,a.G)(((e,r)=>{var n=(0,t.j)("Table",e),a=(0,s.Lr)(e),{className:o}=a,h=m(a,["className"]);return d.createElement(c.Fo,{value:n},d.createElement(i.m$.table,u({role:"table",ref:r,__css:n.table,className:(0,l.cx)("chakra-table",o)},h)))}));o.Ts&&(h.displayName="Table");var p=(0,a.G)(((e,r)=>{var{placement:n="bottom"}=e,a=m(e,["placement"]),t=(0,c.yK)();return d.createElement(i.m$.caption,u({},a,{ref:r,__css:u({},t.caption,{captionSide:n})}))}));o.Ts&&(p.displayName="TableCaption");var f=(0,a.G)(((e,r)=>{var n=(0,c.yK)();return d.createElement(i.m$.thead,u({},e,{ref:r,__css:n.thead}))})),x=(0,a.G)(((e,r)=>{var n=(0,c.yK)();return d.createElement(i.m$.tbody,u({},e,{ref:r,__css:n.tbody}))})),v=(0,a.G)(((e,r)=>{var{isNumeric:n}=e,a=m(e,["isNumeric"]),t=(0,c.yK)();return d.createElement(i.m$.th,u({},a,{ref:r,__css:t.th,"data-is-numeric":n}))})),j=(0,a.G)(((e,r)=>{var n=(0,c.yK)();return d.createElement(i.m$.tr,u({role:"row"},e,{ref:r,__css:n.tr}))})),b=(0,a.G)(((e,r)=>{var{isNumeric:n}=e,a=m(e,["isNumeric"]),t=(0,c.yK)();return d.createElement(i.m$.td,u({role:"gridcell"},a,{ref:r,__css:t.td,"data-is-numeric":n}))}))},3113:function(e,r,n){n.d(r,{Z:function(){return _}});var a=n(219),t=n(63),s=n(9676),c=n(3105),i=n(4915),l=n(5284),o=n(3808),d=n(4461),u=n(4255),m=n(7294);function h(){return(h=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function p(e,r){if(null==e)return{};var n,a,t={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],r.indexOf(n)>=0||(t[n]=e[n]);return t}var f=(0,t.G)(((e,r)=>{var{spacing:n}=e,a=p(e,["spacing"]),t=h({mx:n},(0,s.yK)().separator);return m.createElement(c.m$.span,h({ref:r,role:"presentation"},a,{__css:t}))}));o.Ts&&(f.displayName="BreadcrumbSeparator");var x=(0,t.G)(((e,r)=>{var{isCurrentPage:n,as:a,className:t}=e,i=p(e,["isCurrentPage","as","className"]),l=(0,s.yK)(),o=h({ref:r,as:a,className:(0,d.cx)("chakra-breadcrumb__link",t)},i);return n?m.createElement(c.m$.span,h({"aria-current":"page",__css:l.link},o)):m.createElement(c.m$.a,h({__css:l.link},o))}));o.Ts&&(x.displayName="BreadcrumbLink");var v=(0,t.G)(((e,r)=>{var{isCurrentPage:n,separator:a,isLastChild:t,spacing:i,children:l,className:o}=e,v=p(e,["isCurrentPage","separator","isLastChild","spacing","children","className"]),j=(0,u.W)(l).map((e=>e.type===x?m.cloneElement(e,{isCurrentPage:n}):e.type===f?m.cloneElement(e,{spacing:i,children:e.props.children||a}):e)),b=h({display:"inline-flex",alignItems:"center"},(0,s.yK)().item),k=(0,d.cx)("chakra-breadcrumb__list-item",o);return m.createElement(c.m$.li,h({ref:r,className:k},v,{__css:b}),j,!t&&m.createElement(f,{spacing:i},a))}));o.Ts&&(v.displayName="BreadcrumbItem");var j=(0,t.G)(((e,r)=>{var n=(0,i.j)("Breadcrumb",e),a=(0,l.Lr)(e),{children:t,spacing:o="0.5rem",separator:f="/",className:x}=a,v=p(a,["children","spacing","separator","className"]),j=(0,u.W)(t),b=j.length,k=j.map(((e,r)=>m.cloneElement(e,{separator:f,spacing:o,isLastChild:b===r+1}))),g=(0,d.cx)("chakra-breadcrumb",x);return m.createElement(c.m$.nav,h({ref:r,"aria-label":"breadcrumb",className:g,__css:n.container},v),m.createElement(s.Fo,{value:n},m.createElement(c.m$.ol,{className:"chakra-breadcrumb__list"},k)))}));o.Ts&&(j.displayName="Breadcrumb");var b=n(8017),k=n(6034),g=n(1664),y=n(5893),C=["children"],_=function(e){var r=e.children;(0,a.Z)(e,C);return(0,y.jsxs)(b.xu,{mt:"5",children:[(0,y.jsxs)(j,{children:[(0,y.jsx)(v,{children:(0,y.jsx)(g.default,{href:"/admin",passHref:!0,children:(0,y.jsx)(x,{children:"Config"})})}),(0,y.jsx)(v,{children:(0,y.jsx)(g.default,{href:"/admin/tasks",passHref:!0,children:(0,y.jsx)(x,{children:"Tasks"})})}),(0,y.jsx)(v,{children:(0,y.jsx)(g.default,{href:"/admin/teams",passHref:!0,children:(0,y.jsx)(x,{children:"Teams"})})})]}),(0,y.jsx)(k.Kq,{mt:5,children:r})]})}},6681:function(e,r,n){var a=n(980),t=n(4096),s=(0,a.chakra)(t.k,{baseStyle:{flexDirection:"row-reverse",w:"100%"}});r.Z=s},1832:function(e,r,n){var a=n(2503);r.Z=function(){return(0,a.ZP)("/admin/list-challenges")}},8668:function(e,r,n){var a=n(980),t=n(9669),s=n.n(t);r.Z=function(){var e=(0,a.useToast)();return{error:function(r){var n,a=null===(n=r.data)||void 0===n?void 0:n.message;if(a)e({description:a,status:"error",duration:2e3,isClosable:!0});else if(s().isAxiosError(r)){var t,c=null===(t=r.response)||void 0===t?void 0:t.data;e({description:c.message||JSON.stringify(r.message),status:"error",duration:2e3,isClosable:!0})}},message:function(r){var n=r.data.message;n&&e({description:n,status:"info",duration:2e3,isClosable:!0})},text:function(r){e({description:r,status:"info",duration:2e3,isClosable:!0})}}}},8938:function(e,r,n){n.r(r);var a=n(266),t=n(219),s=n(809),c=n.n(s),i=n(3346),l=n(8134),o=n(7922),d=n(6034),u=n(7442),m=n(1206),h=n(8668),p=n(7294),f=n(6681),x=n(3154),v=n(1832),j=n(1163),b=n(3113),k=n(5893),g=["task","isOpened","onUpdateOpened","onClickCallback"],y=function(e){var r=e.task,n=e.isOpened,a=e.onUpdateOpened,s=e.onClickCallback;(0,t.Z)(e,g);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(i.Td,{title:r.name,children:r.name}),(0,k.jsx)(i.Td,{children:r.score}),(0,k.jsx)(i.Td,{children:r.solved_by.length}),(0,k.jsx)(i.Td,{children:r.category}),(0,k.jsx)(i.Td,{children:r.author}),(0,k.jsx)(i.Td,{children:(0,k.jsx)(l.r,{isChecked:n,onChange:function(){a(!n)}})}),(0,k.jsx)(i.Td,{children:r.is_survey&&"\ud83d\uddd2\ufe0f"}),(0,k.jsx)(i.Td,{style:{cursor:"pointer"},onClick:s,children:"\ud83d\udc40"}),(0,k.jsx)(i.Td,{children:(0,k.jsx)(o.E,{title:r.flag,children:r.flag})})]})},C=function(e){var r=e.tasks,n=(0,v.Z)().mutate,t=(0,h.Z)(),s=t.message,l=t.error,o=t.text,m=new Map(r.map((function(e){return[e.id,e.is_open]}))),g=(0,p.useState)(m),C=g[0],_=g[1],T=(0,j.useRouter)(),N=(0,p.useCallback)((function(){r.forEach(function(){var e=(0,a.Z)(c().mark((function e(r){var n,a,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=C.get(r.id),r.is_open!==n){e.next=3;break}return e.abrupt("return");case 3:return a=n?"/admin/open-challenge":"/admin/close-challenge",e.prev=4,e.next=7,x.hi.post(a,{name:r.name});case 7:t=e.sent,s(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),l(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(r){return e.apply(this,arguments)}}()),n()}),[x.hi,s,l,r]),E=(0,p.useCallback)((0,a.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.hi.get("/admin/tasks.md");case 2:r=e.sent,navigator.clipboard.writeText(r.data.text),o("Copied tasks.md to clipboard");case 5:case"end":return e.stop()}}),e)}))),[x.hi,o]),O=(0,p.useCallback)((0,a.Z)(c().mark((function e(){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.hi.get("/admin/check-port.py");case 2:r=e.sent,(n=document.createElement("a")).href="data:text/plain;charset=utf-8,"+encodeURIComponent(r.data.text),n.download="check-port.py",document.body.appendChild(n),n.click(),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n)}),1e3);case 9:case"end":return e.stop()}}),e)}))),[x.hi]);return(0,k.jsxs)(b.Z,{children:[(0,k.jsxs)(d.Ug,{children:[(0,k.jsx)(u.z,{onClick:E,children:"tasks.md"}),(0,k.jsx)(u.z,{onClick:O,children:"check-port.py"})]}),(0,k.jsxs)(i.iA,{maxW:"100%",size:"sm",children:[(0,k.jsx)(i.hr,{children:(0,k.jsxs)(i.Tr,{children:[(0,k.jsx)(i.Th,{children:"Name"}),(0,k.jsx)(i.Th,{children:"Score"}),(0,k.jsx)(i.Th,{children:"#Solve"}),(0,k.jsx)(i.Th,{children:"Category"}),(0,k.jsx)(i.Th,{children:"Author"}),(0,k.jsx)(i.Th,{children:"Is Open?"}),(0,k.jsx)(i.Th,{children:"Is Survey?"}),(0,k.jsx)(i.Th,{children:"Preview"}),(0,k.jsx)(i.Th,{children:"Flag"})]})}),(0,k.jsx)(i.p3,{children:r.map((function(e){return(0,k.jsx)(i.Tr,{children:(0,k.jsx)(y,{task:e,isOpened:C.get(e.id)||!1,onUpdateOpened:function(r){_((function(n){return new Map(n).set(e.id,r)}))},onClickCallback:function(){T.push("/admin/tasks/".concat(e.id),void 0,{shallow:!0,scroll:!1})}})},e.name)}))})]}),(0,k.jsx)(f.Z,{children:(0,k.jsx)(u.z,{onClick:N,children:"Open/Close Challenges"})})]})};r.default=function(){var e=(0,v.Z)().data;return e?(0,k.jsx)(C,{tasks:e}):(0,k.jsx)(m.Z,{})}}}]);