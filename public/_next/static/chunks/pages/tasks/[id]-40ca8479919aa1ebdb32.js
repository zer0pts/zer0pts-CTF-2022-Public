(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[484],{6618:function(e,r,n){"use strict";n.d(r,{l:function(){return p}});var t=n(63),s=n(4915),i=n(5284),o=n(3105),a=n(9676),l=n(4461),c=n(3808),u=n(7294),d=n(6729);function f(){return(f=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}var p=(0,t.G)(((e,r)=>{var n,t=(0,s.m)("FormLabel",e),a=(0,i.Lr)(e),{children:c,requiredIndicator:p=u.createElement(h,null)}=a,m=function(e,r){if(null==e)return{};var n,t,s={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(s[n]=e[n]);return s}(a,["className","children","requiredIndicator"]),x=(0,d.NJ)(),g=null!=(n=null==x?void 0:x.getLabelProps(m,r))?n:f({ref:r},m);return u.createElement(o.m$.label,f({},g,{className:(0,l.cx)("chakra-form__label",a.className),__css:f({display:"block",textAlign:"start"},t)}),c,null!=x&&x.isRequired?p:null)}));c.Ts&&(p.displayName="FormLabel");var h=(0,t.G)(((e,r)=>{var n=(0,d.NJ)(),t=(0,a.yK)();if(null==n||!n.isRequired)return null;var s=(0,l.cx)("chakra-form__required-indicator",e.className);return u.createElement(o.m$.span,f({},null==n?void 0:n.getRequiredIndicatorProps(e,r),{__css:t.requiredIndicator,className:s}))}));c.Ts&&(h.displayName="RequiredIndicator")},3663:function(e,r,n){"use strict";n.d(r,{M:function(){return f}});var t=n(63),s=n(3808),i=n(6678),o=n(7294),a=n(3105);function l(){return(l=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}function c(e,r){if(null==e)return{};var n,t,s={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(s[n]=e[n]);return s}var u=(0,t.G)(((e,r)=>{var{area:n,templateAreas:t,gap:s,rowGap:i,columnGap:u,column:d,row:f,autoFlow:p,autoRows:h,templateRows:m,autoColumns:x,templateColumns:g}=e,v=c(e,["area","templateAreas","gap","rowGap","columnGap","column","row","autoFlow","autoRows","templateRows","autoColumns","templateColumns"]),j={display:"grid",gridArea:n,gridTemplateAreas:t,gridGap:s,gridRowGap:i,gridColumnGap:u,gridAutoColumns:x,gridColumn:d,gridRow:f,gridAutoFlow:p,gridAutoRows:h,gridTemplateRows:m,gridTemplateColumns:g};return o.createElement(a.m$.div,l({ref:r,__css:j},v))}));s.Ts&&(u.displayName="Grid");function d(){return(d=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}var f=(0,t.G)(((e,r)=>{var n,t,{columns:a,spacingX:l,spacingY:c,spacing:f,minChildWidth:p}=e,h=function(e,r){if(null==e)return{};var n,t,s={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(s[n]=e[n]);return s}(e,["columns","spacingX","spacingY","spacing","minChildWidth"]),m=p?(t=p,(0,i.XQ)(t,(e=>{return(0,s.Ft)(e)?null:"repeat(auto-fit, minmax("+(r=e,((0,s.hj)(r)?r+"px":r)+", 1fr))");var r}))):(n=a,(0,i.XQ)(n,(e=>(0,s.Ft)(e)?null:"repeat("+e+", minmax(0, 1fr))")));return o.createElement(u,d({ref:r,gap:f,columnGap:l,rowGap:c,templateColumns:m},h))}));s.Ts&&(f.displayName="SimpleGrid")},6681:function(e,r,n){"use strict";var t=n(980),s=n(4096),i=(0,t.chakra)(s.k,{baseStyle:{flexDirection:"row-reverse",w:"100%"}});r.Z=i},4002:function(e,r,n){"use strict";var t=n(219),s=n(6034),i=n(5528),o=n(5893),a=["tags"];r.Z=function(e){var r=e.tags;(0,t.Z)(e,a);return(0,o.jsx)(s.Ug,{children:r.map((function(e){return(0,o.jsx)(i.Vp,{colorScheme:"blackAlpha",variant:"solid",sx:{color:"black",backgroundColor:"#0000001a"},children:e},e)}))})}},5295:function(e,r,n){"use strict";var t=n(2809),s=n(3789),i=n(266),o=n(219),a=n(809),l=n.n(a),c=n(6034),u=n(336),d=n(4096),f=n(8017),p=n(5528),h=n(9887),m=n(7442),x=n(4115),g=n(9444),v=n(9398),j=n(7625),b=n(8243),y=n(8668),w=n(1664),_=(n(7294),n(2283)),k=n(3154),O=n(7457),Z=n(6681),S=n(4002),C=n(5893),N=["task"];function G(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function P(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?G(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}r.Z=function(e){var r=e.task,n=((0,o.Z)(e,N),(0,_.cI)()),t=n.register,a=n.handleSubmit,G=(0,O.Z)([]).mutate,E=(0,y.Z)(),R=E.message,q=E.error,A=function(){var e=(0,i.Z)(l().mark((function e(r){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.hi.post("/submit",{flag:r.flag});case 3:n=e.sent,R(n),G(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),q(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}();return(0,C.jsxs)(c.Kq,{spacing:1,color:"#000",children:[(0,C.jsx)(u.X,{as:"h2",fontSize:"3xl",children:r.name}),(0,C.jsxs)(d.k,{children:[(0,C.jsxs)(c.Kq,{w:"70%",pl:1,spacing:1,children:[(0,C.jsx)(S.Z,{tags:r.category?[r.category].concat((0,s.Z)(r.tags)):r.tags}),(0,C.jsxs)(c.Ug,{children:[(0,C.jsxs)(f.xu,{color:"#000",children:[(0,C.jsx)(f.xu,{fontSize:"2xl",sx:{display:"inline"},children:r.score}),"pts"]}),(0,C.jsxs)(f.xu,{color:"#000",children:[(0,C.jsx)(f.xu,{fontSize:"2xl",sx:{display:"inline"},children:r.solved_by.length}),"solves"]})]}),(0,C.jsx)(f.xu,{sx:{a:{color:"blue.300"},"a:focus":{outline:"none"}},dangerouslySetInnerHTML:{__html:r.description}}),(0,C.jsx)(c.Ug,{minH:"4em",children:r.attachments.map((function(e){return(0,C.jsx)("a",{href:e.url,download:!0,children:(0,C.jsxs)(p.Vp,{colorScheme:"blackAlpha",variant:"solid",maxW:"10em",children:[(0,C.jsx)(j.G,{icon:v.q7m}),(0,C.jsx)(p.Sn,{isTruncated:!0,children:e.name})]})},e.url)}))}),r.author&&(0,C.jsxs)(Z.Z,{children:["author: ",r.author]}),!b.s&&(0,C.jsxs)(c.Ug,{children:[(0,C.jsx)(h.I,P({id:"flag",placeholder:"zer0pts{...}",variant:"flushed",sx:{borderColor:"blue.300","&::placeholder":{color:"#999"}}},t("flag",{required:!0}))),(0,C.jsx)(m.z,{onClick:a(A),colorScheme:"blue",variant:"solid",children:"Submit"})]})]}),(0,C.jsx)(f.xu,{w:"30%",pl:1,sx:{overflowY:"auto"},children:(0,C.jsxs)(c.Kq,{spacing:1,h:"0",children:[(0,C.jsxs)(x.x,{fontSize:"xl",children:["solved by (",r.solved_by.length,")"]}),(0,C.jsx)(f.xu,{pl:2,children:r.solved_by.map((function(e){return(0,C.jsx)(x.x,{fontSize:"sm",sx:{"&:hover":{textDecoration:"underline"}},children:(0,C.jsx)(g.r,{as:w.default,href:"/teams/".concat(e.team_id),children:e.team_name})},e.team_name)}))})]})})]})]})}},3775:function(e,r,n){"use strict";n.d(r,{Z:function(){return O}});var t=n(318),s=n(8017),i=n(6729),o=n(6618),a=n(8134),l=n(9887),c=n(3663),u=n(3789),d=n(219),f=n(9444),p=n(336),h=n(58),m=n(4096),x=n(9398),g=n(7625),v=n(1163),j=(n(7294),n(4002)),b=n(5893),y=["task","isSolved"],w=function(e){var r=e.task,n=e.isSolved,t=((0,d.Z)(e,y),(0,v.useRouter)());return(0,b.jsx)(f.r,{onClick:function(){t.push("/tasks/"+r.id,void 0,{scroll:!1,shallow:!0})},sx:{borderRadius:"4px",backgroundColor:"#edf2f7",p:2,filter:n?"brightness(0.7)":"none","&:hover":{textDecoration:"none",filter:"brightness(0.7)",cursor:"pointer"}},children:(0,b.jsxs)(s.xu,{children:[(0,b.jsxs)(p.X,{fontSize:"xl",color:"#000",children:[n&&(0,b.jsx)(h.J,{as:g.G,icon:x.LEp,sx:{color:"#88c4d7",fontSize:"1em"}})," ",r.name]}),(0,b.jsxs)(m.k,{justify:"space-around",m:0,children:[(0,b.jsxs)(s.xu,{color:"#000",children:[(0,b.jsx)(s.xu,{fontSize:"2xl",sx:{display:"inline"},children:r.score}),"pts"]}),(0,b.jsxs)(s.xu,{color:"#000",children:[(0,b.jsx)(s.xu,{fontSize:"2xl",sx:{display:"inline"},children:r.solved_by.length}),"solves"]})]}),(0,b.jsx)(j.Z,{tags:r.category?[r.category].concat((0,u.Z)(r.tags)):r.tags})]})})},_=n(6486),k=n(4978),O=function(e){var r=e.tasks,n=e.team,u=(0,k._)("showSolved",!0),d=(0,t.Z)(u,2),f=d[0],p=d[1],h=(0,k._)("filterText",""),m=(0,t.Z)(h,2),x=m[0],g=m[1],v=r.filter((function(e){return""===x||(!!e.name.includes(x)||(!!e.category.includes(x)||(!!e.author.includes(x)||!!e.tags.some((function(e){return e.includes(x)})))))})),j=(0,_.orderBy)(v,[function(e){return e.score},function(e){return e.solved_by.length}],["asc","desc"]);return(0,b.jsxs)(s.xu,{mt:4,children:[(0,b.jsxs)(s.xu,{children:[(0,b.jsxs)(i.NI,{display:"flex",children:[(0,b.jsx)(o.l,{children:"Show solved tasks"}),(0,b.jsx)(a.r,{isChecked:f,onChange:function(){p((function(e){return!e}))}})]}),(0,b.jsx)(l.I,{placeholder:"filter",value:x,onChange:function(e){return g(e.target.value)}})]}),(0,b.jsx)(c.M,{columns:{sm:1,md:3,lg:5},spacing:4,mt:4,children:j.map((function(e){var r=null!==n&&function(e,r){return!(!e||!r)&&r.solved_by.filter((function(r){return r.team_id===Number(e.team_id)})).length>0}(n,e);return r&&!f?(0,b.jsx)(b.Fragment,{}):(0,b.jsx)(w,{task:e,isSolved:r},e.id)}))})]})}},7457:function(e,r,n){"use strict";var t=n(3154),s=n(8243),i=n(2503);r.Z=function(e){return s.s?(0,t.s)(e):(0,i.ZP)("/tasks")}},5954:function(e,r){"use strict";r.Z=function(e){var r=e.endsWith("/")?e.slice(0,-1):e,n=r.split("/");return 1===n.length?r:n.slice(0,-1).join("/")}},8668:function(e,r,n){"use strict";var t=n(980),s=n(9669),i=n.n(s);r.Z=function(){var e=(0,t.useToast)();return{error:function(r){var n,t=null===(n=r.data)||void 0===n?void 0:n.message;if(t)e({description:t,status:"error",duration:2e3,isClosable:!0});else if(i().isAxiosError(r)){var s,o=null===(s=r.response)||void 0===s?void 0:s.data;e({description:o.message||JSON.stringify(r.message),status:"error",duration:2e3,isClosable:!0})}},message:function(r){var n=r.data.message;n&&e({description:n,status:"info",duration:2e3,isClosable:!0})},text:function(r){e({description:r,status:"info",duration:2e3,isClosable:!0})}}}},4595:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSG:function(){return p}});var t=n(4860),s=n(6829),i=n(5295),o=n(1163),a=n(1206),l=n(3775),c=n(3139),u=n(7457),d=n(5954),f=n(5893),p=!0;r.default=function(e){var r=e.taskID,n=e.tasks,p=e.account,h=(0,o.useRouter)(),m=(0,t.q)().onClose,x=(0,u.Z)(n).data,g=(0,c.Z)(p).data;if(!x||void 0===g)return(0,f.jsx)(a.Z,{});var v=x.filter((function(e){return e.id===r}));if(1!==v.length)return(0,f.jsx)(a.Z,{});var j=v[0];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.Z,{tasks:x,team:g}),(0,f.jsxs)(s.u_,{isOpen:!0,onClose:function(){m(),h.push((0,d.Z)(h.route),void 0,{scroll:!1,shallow:!0})},size:"4xl",children:[(0,f.jsx)(s.ZA,{}),(0,f.jsx)(s.hz,{sx:{backgroundColor:"#ffffff"},children:(0,f.jsx)(s.fe,{children:(0,f.jsx)(i.Z,{task:j})})})]})]})}},9474:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tasks/[id]",function(){return n(4595)}])},318:function(e,r,n){"use strict";n.d(r,{Z:function(){return s}});var t=n(6988);function s(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,s,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(t=n.next()).done)&&(i.push(t.value),!r||i.length!==r);o=!0);}catch(l){a=!0,s=l}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}return i}}(e,r)||(0,t.Z)(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[662,334,557,978,292,774,888,179],(function(){return r=9474,e(e.s=r);var r}));var r=e.O();_N_E=r}]);